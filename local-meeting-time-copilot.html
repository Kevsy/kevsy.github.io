<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Co-pilot local time</title>  
<script>
function convertUTCToLocalTime(utcTime) {
    if (utcTime.length !== 4 || isNaN(utcTime)) return "Invalid UTC time format. Expected HHMM.";

    let date = new Date();
    date.setUTCHours(parseInt(utcTime.slice(0, 2)), parseInt(utcTime.slice(2)), 0, 0);

    let localTime = new Date(date.getTime());
    let hours = localTime.getHours().toString().padStart(2, '0');
    let minutes = localTime.getMinutes().toString().padStart(2, '0');
    let timeZoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;

    let timeDifference = -date.getTimezoneOffset() / 60;
    let absDiff = Math.abs(timeDifference);
    let hourWord = absDiff === 1 ? 'hour' : absDiff === 0 ? '' : 'hours';
    let timePhrase = timeDifference === 0 ? 'the same as UTC' : `${absDiff} ${hourWord} ${timeDifference > 0 ? 'ahead of' : 'behind'} UTC`;

    return `${hours}:${minutes} ${timeZoneName}. The local time is ${timePhrase}.`;
}









//document.getElementById("local-timezone").innerHTML = tz; // write local timezone 
//document.getElementById("utc-time-offset").innerHTML = offset;  // write the number of hours UTC offset 
//document.getElementById("utc-meeting-time").innerHTML = utcTime; // write the UTC meeting time  
// document.getElementById("your-meeting-time").innerHTML = localTime; // write the local meeting time, using the appropriate phrasing
//document.getElementById("diff").innerHTML = diff;
//document.getElementById("phrase").innerHTML = phrase;  
</script>

</head>

<body style="font-size: 36px; font-family: Lucida Console;">
<h1>Local meeting time</h1>

<script>
// Example usage:
let utcTime = new URLSearchParams(window.location.search).get('utcTime'); // e.g., "1036"
console.log(utcTime ? convertUTCToLocalTime(utcTime) : "No UTC time provided in query string.");
</script>

 
</body>
</html>
