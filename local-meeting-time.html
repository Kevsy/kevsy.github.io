<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UTC->local</title>  
<script>
function convertUTCToLocalTime(utcTime) {
    if (utcTime.length !== 4 || isNaN(utcTime)) return "Invalid UTC time format. Expected HHMM.";

    let date = new Date();
    date.setUTCHours(parseInt(utcTime.slice(0, 2)), parseInt(utcTime.slice(2)), 0, 0);

    let localTime = new Date(date.getTime());
    let hours = localTime.getHours().toString().padStart(2, '0');
    let minutes = localTime.getMinutes().toString().padStart(2, '0');
    let timeZoneName = Intl.DateTimeFormat().resolvedOptions().timeZone;

    let timeDifference = -date.getTimezoneOffset() / 60;
    let absDiff = Math.abs(timeDifference);
    let hourWord = absDiff === 1 ? 'hour' : absDiff === 0 ? '' : 'hours';
    let timePhrase = timeDifference === 0 ? 'the same as UTC' : `${absDiff} ${hourWord} ${timeDifference > 0 ? 'ahead of' : 'behind'} UTC`;

    return `Your timezone is ${timeZoneName}, which is ${timePhrase}. The meeting will be held at ${hours}:${minutes} local time. `;
}
</script>

</head>

<body style="font-size: 36px; font-family: Lucida Console;">
<h1>Local meeting time</h1>

<script>
let utcTime = new URLSearchParams(window.location.search).get('utc-meeting-time'); // e.g., "1036"
document.write (utcTime ? convertUTCToLocalTime(utcTime) : "No UTC time provided in query string.");
</script>

 
</body>
</html>
